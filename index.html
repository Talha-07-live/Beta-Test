<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Clappr Player with Auto-Refresh</title>
  <style>
    #player {
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
<body>
  <!-- Clappr JS -->
  <script src="https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js"></script>

  <div id="player"></div>

  <script>
    let playerInstance;

    // Function to initialize or reload the player
    function initPlayer() {
      // Destroy the existing player instance if it exists
      if (playerInstance) {
        playerInstance.destroy();
      }

      // Initialize a new player instance
      playerInstance = new Clappr.Player({
        source: "https://astrocricket.talha07.workers.dev/proxy/m3u8.php/ptvpk.m3u8",
        parentId: "#player",
        poster: 'https://s11.gifyu.com/images/S1l3T.jpg',
        autoPlay: true
      });
    }

    // Initialize the player
    initPlayer();

    // Refresh the player every 30 seconds (30,000 milliseconds)
    setInterval(function() {
      initPlayer();
    }, 30000); // Refreshes the player every 30 seconds

  </script>
</body>
</html>
