<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Player with Analytics</title>
    <style>
        /* Basic styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        #player {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        .auto-load {
            display: none;
        }
    </style>
</head>
<body>

    <div id="player">
        <div id="my-video"></div>
    </div>

    <!-- JW Player script -->
    <script src="https://content.jwplatform.com/libraries/KB5zFt7A.js"></script>

    <!-- Matomo Analytics script -->
    <script>
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq = _paq || [];
        _paq.push(["setCookieDomain", "*.anym3u8player.com"]);
        _paq.push(["setDomains", ["*.anym3u8player.com"]]);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u="//analytics.techyhub.co/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '3']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>

    <!-- JW Player initialization -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var player = jwplayer("my-video");
            player.setup({
                file: "https://api005.backblazeb2.com/file/ssbucket/cc380fd5-6d21-11ef-a1e1-d50bcd41e956.mkv",
                type: "video/webm",
                image: "https://s11.gifyu.com/images/S1l3T.jpg",
                width: "100%",
                aspectratio: "16:9",
                autostart: false,
                primary: "html5",
                preload: "auto",
                mute: false,
            });

            player.on("play", function() {
                document.querySelector("#player .jw-preview").style.backgroundImage = "none";
                player.setConfig({
                    image: ""
                });
            });

            // Initialize HLS provider and settings if required
            // jwplayer_hls_provider.attach(); // Ensure this line is relevant to your setup

            // If using p2pml for HLS.js
            // p2pml.hlsjs.initJwPlayer(player, {
            //     liveSyncDurationCount: 7,
            //     loader: engine.createLoaderClass()
            // });
        });
    </script>
</body>
</html>
