<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Block Iframe Pop-ups</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        iframe {
            width: 100%;
            height: 500px;
            border: none;
        }
    </style>
</head>
<body>
    <h1>Embedded Video Player</h1>
    <iframe id="videoIframe" src="https://stream.crichd.sc/update/willowcricket.php"></iframe>

    <script>
        // Override the window.open method globally
        window.open = function() {
            console.log('Pop-up blocked');
            return null;
        };

        document.getElementById('videoIframe').onload = function() {
            const iframe = document.getElementById('videoIframe');
            const iframeWindow = iframe.contentWindow;

            // Override the window.open method within the iframe
            iframeWindow.open = function() {
                console.log('Pop-up blocked');
                return null;
            };

            // Use MutationObserver to monitor for new windows
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.addedNodes.length) {
                        mutation.addedNodes.forEach(function(node) {
                            if (node.tagName === 'A' && node.target === '_blank') {
                                node.removeAttribute('target');
                                node.addEventListener('click', function(event) {
                                    event.preventDefault();
                                    console.log('Pop-up blocked');
                                });
                            }
                        });
                    }
                });
            });

            observer.observe(iframe.contentDocument.body, {
                childList: true,
                subtree: true
            });

            // Intercept and prevent default actions for certain events
            iframeWindow.addEventListener('click', function(event) {
                if (event.target.tagName === 'A' && event.target.target === '_blank') {
                    event.preventDefault();
                    console.log('Pop-up blocked');
                }
            }, true);

            iframeWindow.addEventListener('submit', function(event) {
                event.preventDefault();
                console.log('Form submission blocked');
            }, true);
        };
    </script>
</body>
</html>
